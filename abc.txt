This script is designed to manage and process change of address cases within the last 7 days. It performs several key functions, including data extraction, cleansing, and transformation. The script pulls account details and cases worked by agents related to change of address, using specific parameters (a=change and ab=1). It then removes spaces between postcodes, converts event date-time numbers to timestamps, and handles null values by replacing them with 'XXXXXX'. Special characters in agent names, departments, job descriptions, and event details are also removed. The script then extracts outward postal codes and performs a left outer join to the employees table. Finally, it forms a change of address cases table by extracting area postcodes from the outward postal codes.


Rationale
The rationale behind this script is to ensure accurate and efficient management of change of address cases. By automating the process of pulling and cleansing data, we reduce the risk of errors and improve the overall quality of the data. Removing spaces and special characters ensures consistency and standardisation, while handling null values with 'XXXXXX' ensures no gaps in data integrity. Extracting and restricting postal code information to its outward parts aids in more precise geographical analysis. The use of a left outer join to the employees table ensures comprehensive agent/employee data integration, facilitating better tracking and reporting.


Requirement
The script is required to perform the following tasks:

Data Extraction: Pull account details and cases worked by agents in the last 7 days using the parameters a=change and ab=1.
Data Cleansing:
Remove spaces between postcodes.
Convert event date-time numbers to timestamps.
Identify and replace null values in 'from' and 'to' postcodes with 'XXXXXX'.
Remove special characters from agent names, department names, job descriptions, and event details.
Data Transformation:
Extract outward postal codes from the 'from' and 'to' postcodes.
Data Integration: Perform a left outer join with the employees table to fetch agent/employee data.
Table Formation: Create a change of address cases table by extracting area postcodes from the outward postal codes.
By following these requirements, the script ensures a streamlined process for handling change of address cases, enhancing data quality and facilitating accurate reporting and analysis.
